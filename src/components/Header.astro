---
import Menu from "./Menu.astro";
import menuIcon from "/icons/menu-hamburger.svg";
---

<script src='../script/menuActive.ts'></script>

<script>
	const $panel = document.getElementById("panel");
	document.addEventListener("click", (e) => {
		if (
			(e.target && (e.target as Element).matches("#btn-open")) ||
			(e.target as Element).matches("#btn-open *")
		) {
			e.preventDefault();
			console.log("abrir");
			if ($panel instanceof HTMLElement) {
				$panel.classList.toggle("top-0");
				$panel.classList.toggle("-top-full");
				document.getElementById("app").classList.toggle("blur-sm");
				document.body.style.overflow = "hidden";
			}
		}

		if (
			(e.target && (e.target as Element).matches("#btn-close")) ||
			(e.target as Element).matches("#btn-close *")
		) {
			e.preventDefault();
			console.log("cerrar");
			if ($panel !== null) {
				$panel.classList.toggle("top-0");
				$panel.classList.toggle("-top-full");
				document.body.style.overflow = "visible";
				document.getElementById("app").classList.toggle("blur-sm");
			}
		}
	});
</script>

<header
	id='primary-header'
	class='min-w-full h-16 flex justify-between items-center px-4 sticky top-0 bg-black/5 backdrop-blur-sm z-20'
>
	<h1
		class='text-3xl lg:text-4xl font-semibold text-transparent bg-clip-text bg-gradient-to-r from-rose-400 via-fuchsia-500 to-indigo-500 capitalize tracking-wide'
	>
		kike
	</h1>
	<button id='btn-open' aria-label='button open menu' class='lg:hidden'>
		<img src={menuIcon} alt='menu hamburger icon' />
	</button>
	<Menu />
</header>
